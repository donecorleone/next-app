!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@studio-freight/hamo"),require("@studio-freight/lenis"),require("prop-types"),require("react"),require("zustand")):"function"==typeof define&&define.amd?define(["exports","@studio-freight/hamo","@studio-freight/lenis","prop-types","react","zustand"],t):t((e||self).reactLenis={},e.hamo,e.Lenis,e.propTypes,e.react,e.zustand)}(this,function(e,t,r,n,o,i){function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/u(r),f=/*#__PURE__*/u(n),c=/*#__PURE__*/u(o);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var s=["children","root","options","autoRaf","rafPriority"],d=o.createContext(),p=i.create(function(){return{}}),v=o.forwardRef(function(e,r){var n=e.children,i=e.root,u=void 0!==i&&i,f=e.options,v=void 0===f?{}:f,b=e.autoRaf,y=void 0===b||b,h=e.rafPriority,m=void 0===h?0:h,k=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}(e,s),g=o.useRef(),C=o.useRef(),R=o.useState(),j=R[0],x=R[1],E=o.useRef([]),L=o.useCallback(function(e,t){E.current.push({callback:e,priority:t}),E.current.sort(function(e,t){return e.priority-t.priority})},[]),O=o.useCallback(function(e){E.current=E.current.filter(function(t){return t.callback!==e})},[]);o.useImperativeHandle(r,function(){return j},[j]),o.useEffect(function(){var e=new a.default(l({},v,!u&&{wrapper:g.current,content:C.current}));return x(e),function(){e.destroy(),x(void 0)}},[u,JSON.stringify(v)]),t.useFrame(function(e){y&&(null==j||j.raf(e))},m),o.useEffect(function(){u&&j&&p.setState({lenis:j,addCallback:L,removeCallback:O})},[u,j,L,O]);var q=o.useCallback(function(e){for(var t=0;t<E.current.length;t++)E.current[t].callback(e)},[]);return o.useEffect(function(){if(j)return j.on("scroll",q),function(){j.off("scroll",q)}},[j,q]),/*#__PURE__*/c.default.createElement(d.Provider,{value:{lenis:j,addCallback:L,removeCallback:O}},u?n:/*#__PURE__*/c.default.createElement("div",l({ref:g},k),/*#__PURE__*/c.default.createElement("div",{ref:C},n)))});v.displayName="ReactLenis",v.propTypes={children:f.default.node,root:f.default.bool,options:f.default.object,autoRaf:f.default.bool,rafPriority:f.default.number},e.Lenis=v,e.LenisContext=d,e.ReactLenis=v,e.useLenis=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var n,i,u=(n=o.useContext(d),i=p(),null!=n?n:i),a=u.lenis,f=u.addCallback,c=u.removeCallback;return o.useEffect(function(){if(e&&f&&c&&a)return f(e,r),e(a),function(){c(e)}},[a,f,c,r].concat(t)),a}});
//# sourceMappingURL=react-lenis.umd.js.map
